### 1.4 有向赋值

“赋值”规则 **≈r** 看上去并不特别像赋值。它允许我们证明某些表达式是相等的，但是它没有确切地告诉我们如何从一个随意的B集合元素到 **t** 或是 **f** 。

更加简单的关系 **r** 事实上显得更加有用。在r关系的定义中，两个给定的条件都将一个表达式转化成另一个更简的表达式。并且，对于任何集合B的表达式中，B集合元素要么是t或者f，要么关系r将B集合元素与至多一个的其他表达式相关联。作为结论来说，我们可以将 **r** 视为 **单步减少**（single-step reduction）行为，从而帮助我们理解一个解释器可能会通过单步赋值的方式进行到最终值之前的工作。

我们可以定义 **~~r** 为r关系的自反-传递封闭，这样一来，我们会得到一个 **多步减少** 关系。多步减少关系 ~~r 会将一个表达式转化（map）为许多其他的表达式。但是事实证明，多步减少关系最终会将表达式转化为 要么 **t** 要么 **f** 。

通过定义 ~~r 为r关系“自反-传递封闭”已经足够。另一种可用的定义方式为扩张r关系的规约。第三种方式为部分扩张规约，但是在定义之中使用r关系：

r 关系以及 ~~r 关系是有意不对称的，以显赋值过程中的有向性。比如，给定表达式 **(f • (f • (t • f)))** ，我们可以进行如下的减少：

图

左边的空列是上一行右边的表达式。每一行都是 **(f • (f • (t • f))) ~~r t** 中的一个参数。

#### 练习1.2

用单步减少的r关系证明 **(f • (f • (f • f))) ~~r f**

#### 题解

(f • (f • (f • f))) r (f • (f • f)))

​					  r (f • f)

​					  r f

所以，(f • (f • (f • f))) ~~r f